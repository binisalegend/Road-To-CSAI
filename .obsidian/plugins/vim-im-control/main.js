/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => VimImSwitcher
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var import_child_process = require("child_process");
var DEFAULT_SETTINGS = {
  macos: {
    pathToIMControl: "/opt/homebrew/bin",
    cmdOnInsertLeave: "im-select com.apple.keylayout.ABC",
    cmdOnInsertEnter: "im-select {{im}}",
    cmdGetCurrentIM: "im-select"
  },
  windows: {
    pathToIMControl: "%USERPROFILE%\\AppData\\Local\\bin",
    cmdOnInsertLeave: "im-select.exe 1033",
    cmdOnInsertEnter: "im-select.exe {{im}}",
    cmdGetCurrentIM: "im-select.exe"
  },
  linux: {
    pathToIMControl: "/usr/bin",
    cmdOnInsertLeave: "fcitx5-remote -c",
    cmdOnInsertEnter: "fcitx5-remote -o",
    cmdGetCurrentIM: "fcitx5-remote"
  },
  isAsync: true,
  isStatusBarEnabled: false
};
var VimImSwitcher = class extends import_obsidian.Plugin {
  constructor() {
    super(...arguments);
    // internal state for the plugin
    this.isInitialized = false;
    this.imToRestore = "";
    this.prevVimMode = "normal";
    this.editorSet = /* @__PURE__ */ new WeakSet();
    this.registerWorkspaceEvent = async () => {
      if (!this.isInitialized) {
        await this.initialize();
      }
      this.registerVimModeChangeEvent();
    };
  }
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new VimImSwitcherSettingTab(this.app, this));
    this.statusBarItemEl = this.addStatusBarItem();
    this.statusBarItemEl.setText("");
    this.registerEvent(
      this.app.workspace.on("active-leaf-change", this.registerWorkspaceEvent)
    );
    this.registerEvent(
      this.app.workspace.on("file-open", this.registerWorkspaceEvent)
    );
  }
  async initialize() {
    if (this.isInitialized) {
      this.logWarn("plugin already initialized");
      return;
    }
    console.debug(`plugin init start (platform = ${process.platform})`);
    switch (process.platform) {
      case "win32":
        this.setting = this.settings.windows;
        break;
      case "darwin":
        this.setting = this.settings.macos;
        break;
      case "linux":
        this.setting = this.settings.linux;
        break;
      default:
        this.logError("unsupported platform");
        break;
    }
    this.updateEnvironmentVariableForProcess();
    this.statusBarItemEl.setText("");
    this.imToRestore = "";
    this.prevVimMode = "normal";
    this.isInitialized = true;
  }
  updateEnvironmentVariableForProcess() {
    const delimiter = process.platform === "win32" ? ";" : ":";
    process.env.PATH = `${process.env.PATH}${delimiter}${this.setting.pathToIMControl}`;
    console.debug(`current process PATH updated: ${process.env.PATH}`);
  }
  registerVimModeChangeEvent() {
    const view = this.getActiveMarkdownView();
    if (!view) {
      return;
    }
    const editor = this.getCodeMirrorEditor(view);
    if (!editor) {
      return;
    }
    if (this.editorSet.has(editor)) {
      return;
    }
    editor.on("vim-mode-change", (modeObj) => {
      if (modeObj) {
        this.onVimModeChanged(modeObj);
      }
    });
    this.editorSet.add(editor);
    console.debug("vim-mode-change event registered");
  }
  getActiveMarkdownView() {
    return this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
  }
  getCodeMirrorEditor(view) {
    var _a, _b, _c;
    return (_c = (_b = (_a = view.sourceMode) == null ? void 0 : _a.cmEditor) == null ? void 0 : _b.cm) == null ? void 0 : _c.cm;
  }
  onVimModeChanged(modeObj) {
    switch (modeObj.mode) {
      case "insert":
        this.onInsertEnter();
        break;
      default:
        if (this.prevVimMode != "insert") {
          break;
        }
        if (this.settings.isAsync) {
          this.onInsertLeaveAsync();
        } else {
          this.onInsertLeaveSync();
        }
        break;
    }
    this.prevVimMode = modeObj.mode;
  }
  isOnInsertEnterEnabled() {
    return !!this.setting.cmdOnInsertEnter && !!this.setting.cmdGetCurrentIM;
  }
  isOnInsertLeaveEnabled() {
    return !!this.setting.cmdOnInsertLeave;
  }
  onInsertEnter() {
    if (!this.isOnInsertEnterEnabled()) {
      console.debug("onInsertEnter is disabled: skip");
      return;
    }
    const enableCommand = this.setting.cmdOnInsertEnter.replace(
      /{{im}}/,
      this.imToRestore
    );
    if (this.settings.isAsync) {
      this.runCommandAsync(enableCommand).then((stdout) => {
        console.debug(`im switched to ${stdout} by ${enableCommand}`);
      });
    } else {
      const stdout = this.runCommandSync(enableCommand);
      console.debug(`im switched to ${stdout} by ${enableCommand}`);
    }
  }
  onInsertLeaveAsync() {
    if (!this.isOnInsertLeaveEnabled()) {
      console.debug("onInsertLeave is disabled: skip");
      return;
    }
    console.debug("run onInsertLeaveAsync");
    if (this.isOnInsertEnterEnabled()) {
      this.runCommandAsync(this.setting.cmdGetCurrentIM).then((stdout) => {
        this.imToRestore = stdout;
        console.debug(`im cached: ${this.imToRestore}`);
        this.runCommandAsync(this.setting.cmdOnInsertLeave).then(
          (_stdout) => {
            console.debug(`im switched by ${this.setting.cmdOnInsertLeave}`);
          }
        );
      });
    } else {
      this.runCommandAsync(this.setting.cmdOnInsertLeave).then(
        (_stdout) => {
          console.debug(`im switched by ${this.setting.cmdOnInsertLeave}`);
        }
      );
    }
  }
  onInsertLeaveSync() {
    if (!this.isOnInsertLeaveEnabled()) {
      console.debug("onInsertLeave is disabled: skip");
      return;
    }
    console.debug("run onInsertLeaveSync");
    if (this.isOnInsertEnterEnabled()) {
      this.imToRestore = this.runCommandSync(this.setting.cmdGetCurrentIM);
      console.debug(`im cached: ${this.imToRestore}`);
    }
    this.runCommandSync(this.setting.cmdOnInsertLeave);
    console.debug(`im switched by ${this.setting.cmdOnInsertLeave}`);
  }
  runCommandAsync(command) {
    return new Promise((resolve, reject) => {
      (0, import_child_process.exec)(command, (error, stdout, stderr) => {
        if (error) {
          this.logError(
            `command failed with error: ${error}, stdout: ${stdout}, stderr: ${stderr}`
          );
          reject(error);
          return;
        }
        resolve(stdout);
      });
    });
  }
  runCommandSync(command) {
    try {
      const stdout = (0, import_child_process.execSync)(command, { encoding: "utf-8" });
      return stdout;
    } catch (error) {
      this.logError(`command failed with error: ${error}`);
      return "";
    }
  }
  logWarn(msg) {
    console.warn(msg);
    if (this.settings.isStatusBarEnabled) {
      this.statusBarItemEl.setText(`WARN: ${msg}`);
    }
  }
  logError(msg) {
    console.error(msg);
    if (this.settings.isStatusBarEnabled) {
      this.statusBarItemEl.setText(`ERROR: ${msg}`);
    }
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var VimImSwitcherSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setDesc(
      "You can set the following four settings for each platform. 			If you want to use the `InsertEnter` command, 			you should also set the `Get Current IM` command to restore the state of IM. 			If you leave blank either of them, `InsertEnter` will be skipped."
    );
    containerEl.createEl("h3", { text: "macOS" });
    this.createSettingForOS(
      containerEl,
      this.plugin.settings.macos,
      DEFAULT_SETTINGS.macos
    );
    containerEl.createEl("h3", { text: "Windows" });
    this.createSettingForOS(
      containerEl,
      this.plugin.settings.windows,
      DEFAULT_SETTINGS.windows
    );
    containerEl.createEl("h3", { text: "Linux" });
    new import_obsidian.Setting(containerEl).setDesc(
      "WARN: This plugin doesn't work with Obsidian installed from Snap or Flatpak. 			Please try `AppImage` or `deb` file. 			If you want to use `ibus` or `fcitx-remote`, please refere README on GitHub repo."
    );
    this.createSettingForOS(
      containerEl,
      this.plugin.settings.linux,
      DEFAULT_SETTINGS.linux
    );
    containerEl.createEl("h3", { text: "Common" });
    new import_obsidian.Setting(containerEl).setName("Async switch").setDesc("Whether to switch IM asynchronously or not").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.isAsync);
      toggle.onChange(async (value) => {
        console.debug(`Async Switch: ${value}`);
        this.plugin.settings.isAsync = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Status bar message").setDesc("Whether to show ERROR/WARN messages on Status Bar").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.isStatusBarEnabled);
      toggle.onChange(async (value) => {
        console.debug(`Status Bar Message: ${value}`);
        this.plugin.settings.isStatusBarEnabled = value;
        await this.plugin.saveSettings();
      });
    });
  }
  createSettingForOS(containerEl, setting, defaults) {
    new import_obsidian.Setting(containerEl).setName("PATH to IM Controller").setDesc("PATH to IM Controller used only in the internal process").addText(
      (text) => text.setPlaceholder(defaults.pathToIMControl).setValue(setting.pathToIMControl).onChange(async (value) => {
        console.debug(`PATH to IM Controller: ${value}`);
        setting.pathToIMControl = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Get Current IM").setDesc("The command to get current IM").addText(
      (text) => text.setPlaceholder(defaults.cmdGetCurrentIM).setValue(setting.cmdGetCurrentIM).onChange(async (value) => {
        console.debug("Get Current IM: " + value);
        setting.cmdGetCurrentIM = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("On InsertEnter").setDesc(
      "The command when entering insert mode (Use {{im}} as placeholder of cached IM)"
    ).addText(
      (text) => text.setPlaceholder(defaults.cmdOnInsertEnter).setValue(setting.cmdOnInsertEnter).onChange(async (value) => {
        console.debug("On InsertEnter: " + value);
        setting.cmdOnInsertEnter = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("On InsertLeave").setDesc("The command when leaving insert mode").addText(
      (text) => text.setPlaceholder(defaults.cmdOnInsertLeave).setValue(setting.cmdOnInsertLeave).onChange(async (value) => {
        console.debug("On InsertLeave: " + value);
        setting.cmdOnInsertLeave = value;
        await this.plugin.saveSettings();
      })
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBNYXJrZG93blZpZXcsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0ICogYXMgb3MgZnJvbSBcIm9zXCI7XG5pbXBvcnQgeyBleGVjLCBleGVjU3luYyB9IGZyb20gXCJjaGlsZF9wcm9jZXNzXCI7XG5cbmludGVyZmFjZSBWaW1JbUNvbnRyb1NldHRpbmcge1xuXHRwYXRoVG9JTUNvbnRyb2w6IHN0cmluZztcblx0Y21kT25JbnNlcnRMZWF2ZTogc3RyaW5nO1xuXHRjbWRPbkluc2VydEVudGVyOiBzdHJpbmc7XG5cdGNtZEdldEN1cnJlbnRJTTogc3RyaW5nO1xufVxuaW50ZXJmYWNlIFZpbUltQ29udHJvbFNldHRpbmdzIHtcblx0bWFjb3M6IFZpbUltQ29udHJvU2V0dGluZztcblx0d2luZG93czogVmltSW1Db250cm9TZXR0aW5nO1xuXHRsaW51eDogVmltSW1Db250cm9TZXR0aW5nO1xuXHRpc0FzeW5jOiBib29sZWFuO1xuXHRpc1N0YXR1c0JhckVuYWJsZWQ6IGJvb2xlYW47XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFZpbUltQ29udHJvbFNldHRpbmdzID0ge1xuXHRtYWNvczoge1xuXHRcdHBhdGhUb0lNQ29udHJvbDogXCIvb3B0L2hvbWVicmV3L2JpblwiLFxuXHRcdGNtZE9uSW5zZXJ0TGVhdmU6IFwiaW0tc2VsZWN0IGNvbS5hcHBsZS5rZXlsYXlvdXQuQUJDXCIsXG5cdFx0Y21kT25JbnNlcnRFbnRlcjogXCJpbS1zZWxlY3Qge3tpbX19XCIsXG5cdFx0Y21kR2V0Q3VycmVudElNOiBcImltLXNlbGVjdFwiLFxuXHR9LFxuXHR3aW5kb3dzOiB7XG5cdFx0cGF0aFRvSU1Db250cm9sOiBcIiVVU0VSUFJPRklMRSVcXFxcQXBwRGF0YVxcXFxMb2NhbFxcXFxiaW5cIixcblx0XHRjbWRPbkluc2VydExlYXZlOiBcImltLXNlbGVjdC5leGUgMTAzM1wiLFxuXHRcdGNtZE9uSW5zZXJ0RW50ZXI6IFwiaW0tc2VsZWN0LmV4ZSB7e2ltfX1cIixcblx0XHRjbWRHZXRDdXJyZW50SU06IFwiaW0tc2VsZWN0LmV4ZVwiLFxuXHR9LFxuXHRsaW51eDoge1xuXHRcdHBhdGhUb0lNQ29udHJvbDogXCIvdXNyL2JpblwiLFxuXHRcdGNtZE9uSW5zZXJ0TGVhdmU6IFwiZmNpdHg1LXJlbW90ZSAtY1wiLFxuXHRcdGNtZE9uSW5zZXJ0RW50ZXI6IFwiZmNpdHg1LXJlbW90ZSAtb1wiLFxuXHRcdGNtZEdldEN1cnJlbnRJTTogXCJmY2l0eDUtcmVtb3RlXCIsXG5cdH0sXG5cdGlzQXN5bmM6IHRydWUsXG5cdGlzU3RhdHVzQmFyRW5hYmxlZDogZmFsc2UsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaW1JbVN3aXRjaGVyIGV4dGVuZHMgUGx1Z2luIHtcblx0Ly8gZ2xvYmFsIHNldHRpbmdzIGZvciBtdWx0aXBsZSBwbGF0Zm9ybXNcblx0c2V0dGluZ3M6IFZpbUltQ29udHJvbFNldHRpbmdzO1xuXHQvLyBzZWxlY3RlZCBzZXR0aW5nIGZvciBjdXJyZW50IHBsYXRmb3JtXG5cdHByaXZhdGUgc2V0dGluZzogVmltSW1Db250cm9TZXR0aW5nO1xuXHQvLyBzdGF0dXMgYmFyIGl0ZW1cblx0cHJpdmF0ZSBzdGF0dXNCYXJJdGVtRWw6IEhUTUxFbGVtZW50O1xuXG5cdC8vIGludGVybmFsIHN0YXRlIGZvciB0aGUgcGx1Z2luXG5cdHByaXZhdGUgaXNJbml0aWFsaXplZCA9IGZhbHNlO1xuXHRwcml2YXRlIGltVG9SZXN0b3JlID0gXCJcIjtcblx0cHJpdmF0ZSBwcmV2VmltTW9kZSA9IFwibm9ybWFsXCI7XG5cdHByaXZhdGUgZWRpdG9yU2V0ID0gbmV3IFdlYWtTZXQ8Q29kZU1pcnJvci5FZGl0b3I+KCk7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IFZpbUltU3dpdGNoZXJTZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG5cblx0XHR0aGlzLnN0YXR1c0Jhckl0ZW1FbCA9IHRoaXMuYWRkU3RhdHVzQmFySXRlbSgpO1xuXHRcdHRoaXMuc3RhdHVzQmFySXRlbUVsLnNldFRleHQoXCJcIik7XG5cblx0XHQvLyBSZWdpc3RlciB0d28gZXZlbnRzIGJlY2F1c2U6XG5cdFx0Ly8gdGhpcyBkb24ndCB0cmlnZ2VyIG9uIGxvYWRpbmcvcmVsb2FkaW5nIG9ic2lkaWFuIHdpdGggbm90ZSBvcGVuZWRcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJhY3RpdmUtbGVhZi1jaGFuZ2VcIiwgdGhpcy5yZWdpc3RlcldvcmtzcGFjZUV2ZW50KSxcblx0XHQpO1xuXHRcdC8vIGFuZCB0aGlzIGRvbid0IHRyaWdnZXIgb24gb3BlbmluZyBzYW1lIGZpbGUgaW4gbmV3IHBhbmVcblx0XHR0aGlzLnJlZ2lzdGVyRXZlbnQoXG5cdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2Uub24oXCJmaWxlLW9wZW5cIiwgdGhpcy5yZWdpc3RlcldvcmtzcGFjZUV2ZW50KSxcblx0XHQpO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3luYyBpbml0aWFsaXplKCkge1xuXHRcdGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQpIHtcblx0XHRcdHRoaXMubG9nV2FybihcInBsdWdpbiBhbHJlYWR5IGluaXRpYWxpemVkXCIpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zb2xlLmRlYnVnKGBwbHVnaW4gaW5pdCBzdGFydCAocGxhdGZvcm0gPSAke3Byb2Nlc3MucGxhdGZvcm19KWApO1xuXG5cdFx0c3dpdGNoIChwcm9jZXNzLnBsYXRmb3JtKSB7XG5cdFx0XHRjYXNlIFwid2luMzJcIjpcblx0XHRcdFx0dGhpcy5zZXR0aW5nID0gdGhpcy5zZXR0aW5ncy53aW5kb3dzO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJkYXJ3aW5cIjpcblx0XHRcdFx0dGhpcy5zZXR0aW5nID0gdGhpcy5zZXR0aW5ncy5tYWNvcztcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlIFwibGludXhcIjpcblx0XHRcdFx0dGhpcy5zZXR0aW5nID0gdGhpcy5zZXR0aW5ncy5saW51eDtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aGlzLmxvZ0Vycm9yKFwidW5zdXBwb3J0ZWQgcGxhdGZvcm1cIik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdHRoaXMudXBkYXRlRW52aXJvbm1lbnRWYXJpYWJsZUZvclByb2Nlc3MoKTtcblx0XHR0aGlzLnN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KFwiXCIpO1xuXHRcdHRoaXMuaW1Ub1Jlc3RvcmUgPSBcIlwiO1xuXHRcdHRoaXMucHJldlZpbU1vZGUgPSBcIm5vcm1hbFwiO1xuXHRcdHRoaXMuaXNJbml0aWFsaXplZCA9IHRydWU7XG5cdH1cblxuXHRwcml2YXRlIHVwZGF0ZUVudmlyb25tZW50VmFyaWFibGVGb3JQcm9jZXNzKCkge1xuXHRcdGNvbnN0IGRlbGltaXRlciA9IHByb2Nlc3MucGxhdGZvcm0gPT09IFwid2luMzJcIiA/IFwiO1wiIDogXCI6XCI7XG5cdFx0cHJvY2Vzcy5lbnYuUEFUSCA9IGAke3Byb2Nlc3MuZW52LlBBVEh9JHtkZWxpbWl0ZXJ9JHt0aGlzLnNldHRpbmcucGF0aFRvSU1Db250cm9sfWA7XG5cdFx0Y29uc29sZS5kZWJ1ZyhgY3VycmVudCBwcm9jZXNzIFBBVEggdXBkYXRlZDogJHtwcm9jZXNzLmVudi5QQVRIfWApO1xuXHR9XG5cblx0cHJpdmF0ZSByZWdpc3RlcldvcmtzcGFjZUV2ZW50ID0gYXN5bmMgKCkgPT4ge1xuXHRcdGlmICghdGhpcy5pc0luaXRpYWxpemVkKSB7XG5cdFx0XHRhd2FpdCB0aGlzLmluaXRpYWxpemUoKTtcblx0XHR9XG5cdFx0dGhpcy5yZWdpc3RlclZpbU1vZGVDaGFuZ2VFdmVudCgpO1xuXHR9O1xuXG5cdHByaXZhdGUgcmVnaXN0ZXJWaW1Nb2RlQ2hhbmdlRXZlbnQoKSB7XG5cdFx0Y29uc3QgdmlldyA9IHRoaXMuZ2V0QWN0aXZlTWFya2Rvd25WaWV3KCk7XG5cdFx0aWYgKCF2aWV3KSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IGVkaXRvciA9IHRoaXMuZ2V0Q29kZU1pcnJvckVkaXRvcih2aWV3KTtcblx0XHRpZiAoIWVkaXRvcikge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAodGhpcy5lZGl0b3JTZXQuaGFzKGVkaXRvcikpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBydW4gY29tbWFuZHMgd2hlbiB2aW0gbW9kZSBoYXMgY2hhbmdlZFxuXHRcdGVkaXRvci5vbihcInZpbS1tb2RlLWNoYW5nZVwiLCAobW9kZU9iajogYW55KSA9PiB7XG5cdFx0XHRpZiAobW9kZU9iaikge1xuXHRcdFx0XHR0aGlzLm9uVmltTW9kZUNoYW5nZWQobW9kZU9iaik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dGhpcy5lZGl0b3JTZXQuYWRkKGVkaXRvcik7XG5cdFx0Y29uc29sZS5kZWJ1ZyhcInZpbS1tb2RlLWNoYW5nZSBldmVudCByZWdpc3RlcmVkXCIpO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXRBY3RpdmVNYXJrZG93blZpZXcoKTogTWFya2Rvd25WaWV3IHwgbnVsbCB7XG5cdFx0cmV0dXJuIHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG5cdH1cblxuXHRwcml2YXRlIGdldENvZGVNaXJyb3JFZGl0b3IodmlldzogTWFya2Rvd25WaWV3KTogQ29kZU1pcnJvci5FZGl0b3Ige1xuXHRcdHJldHVybiAodmlldyBhcyBhbnkpLnNvdXJjZU1vZGU/LmNtRWRpdG9yPy5jbT8uY207XG5cdH1cblxuXHRwcml2YXRlIG9uVmltTW9kZUNoYW5nZWQobW9kZU9iajogYW55KSB7XG5cdFx0c3dpdGNoIChtb2RlT2JqLm1vZGUpIHtcblx0XHRcdGNhc2UgXCJpbnNlcnRcIjpcblx0XHRcdFx0dGhpcy5vbkluc2VydEVudGVyKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0aWYgKHRoaXMucHJldlZpbU1vZGUgIT0gXCJpbnNlcnRcIikge1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmlzQXN5bmMpIHtcblx0XHRcdFx0XHR0aGlzLm9uSW5zZXJ0TGVhdmVBc3luYygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMub25JbnNlcnRMZWF2ZVN5bmMoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdFx0dGhpcy5wcmV2VmltTW9kZSA9IG1vZGVPYmoubW9kZTtcblx0fVxuXG5cdHByaXZhdGUgaXNPbkluc2VydEVudGVyRW5hYmxlZCgpIHtcblx0XHRyZXR1cm4gISF0aGlzLnNldHRpbmcuY21kT25JbnNlcnRFbnRlciAmJiAhIXRoaXMuc2V0dGluZy5jbWRHZXRDdXJyZW50SU07XG5cdH1cblxuXHRwcml2YXRlIGlzT25JbnNlcnRMZWF2ZUVuYWJsZWQoKSB7XG5cdFx0cmV0dXJuICEhdGhpcy5zZXR0aW5nLmNtZE9uSW5zZXJ0TGVhdmU7XG5cdH1cblxuXHRwcml2YXRlIG9uSW5zZXJ0RW50ZXIoKSB7XG5cdFx0aWYgKCF0aGlzLmlzT25JbnNlcnRFbnRlckVuYWJsZWQoKSkge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhcIm9uSW5zZXJ0RW50ZXIgaXMgZGlzYWJsZWQ6IHNraXBcIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3QgZW5hYmxlQ29tbWFuZCA9IHRoaXMuc2V0dGluZy5jbWRPbkluc2VydEVudGVyLnJlcGxhY2UoXG5cdFx0XHQve3tpbX19Lyxcblx0XHRcdHRoaXMuaW1Ub1Jlc3RvcmUsXG5cdFx0KTtcblxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmlzQXN5bmMpIHtcblx0XHRcdHRoaXMucnVuQ29tbWFuZEFzeW5jKGVuYWJsZUNvbW1hbmQpLnRoZW4oKHN0ZG91dDogYW55KSA9PiB7XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoYGltIHN3aXRjaGVkIHRvICR7c3Rkb3V0fSBieSAke2VuYWJsZUNvbW1hbmR9YCk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3Qgc3Rkb3V0ID0gdGhpcy5ydW5Db21tYW5kU3luYyhlbmFibGVDb21tYW5kKTtcblx0XHRcdGNvbnNvbGUuZGVidWcoYGltIHN3aXRjaGVkIHRvICR7c3Rkb3V0fSBieSAke2VuYWJsZUNvbW1hbmR9YCk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBvbkluc2VydExlYXZlQXN5bmMoKSB7XG5cdFx0aWYgKCF0aGlzLmlzT25JbnNlcnRMZWF2ZUVuYWJsZWQoKSkge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhcIm9uSW5zZXJ0TGVhdmUgaXMgZGlzYWJsZWQ6IHNraXBcIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnNvbGUuZGVidWcoXCJydW4gb25JbnNlcnRMZWF2ZUFzeW5jXCIpO1xuXG5cdFx0aWYgKHRoaXMuaXNPbkluc2VydEVudGVyRW5hYmxlZCgpKSB7XG5cdFx0XHQvLyBpZiBvbkluc2VydEVudGVyIGlzIGVuYWJsZWQsIHdlIG5lZWQgdG8gZ2V0IGN1cnJlbnQgSU0gZmlyc3Rcblx0XHRcdHRoaXMucnVuQ29tbWFuZEFzeW5jKHRoaXMuc2V0dGluZy5jbWRHZXRDdXJyZW50SU0pLnRoZW4oKHN0ZG91dDogYW55KSA9PiB7XG5cdFx0XHRcdHRoaXMuaW1Ub1Jlc3RvcmUgPSBzdGRvdXQ7XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoYGltIGNhY2hlZDogJHt0aGlzLmltVG9SZXN0b3JlfWApO1xuXG5cdFx0XHRcdC8vIHRoZW4gcnVuIG9uSW5zZXJ0TGVhdmUgY29tbWFuZFxuXHRcdFx0XHR0aGlzLnJ1bkNvbW1hbmRBc3luYyh0aGlzLnNldHRpbmcuY21kT25JbnNlcnRMZWF2ZSkudGhlbihcblx0XHRcdFx0XHQoX3N0ZG91dDogYW55KSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKGBpbSBzd2l0Y2hlZCBieSAke3RoaXMuc2V0dGluZy5jbWRPbkluc2VydExlYXZlfWApO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5ydW5Db21tYW5kQXN5bmModGhpcy5zZXR0aW5nLmNtZE9uSW5zZXJ0TGVhdmUpLnRoZW4oXG5cdFx0XHRcdChfc3Rkb3V0OiBhbnkpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKGBpbSBzd2l0Y2hlZCBieSAke3RoaXMuc2V0dGluZy5jbWRPbkluc2VydExlYXZlfWApO1xuXHRcdFx0XHR9LFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIG9uSW5zZXJ0TGVhdmVTeW5jKCkge1xuXHRcdGlmICghdGhpcy5pc09uSW5zZXJ0TGVhdmVFbmFibGVkKCkpIHtcblx0XHRcdGNvbnNvbGUuZGVidWcoXCJvbkluc2VydExlYXZlIGlzIGRpc2FibGVkOiBza2lwXCIpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zb2xlLmRlYnVnKFwicnVuIG9uSW5zZXJ0TGVhdmVTeW5jXCIpO1xuXG5cdFx0aWYgKHRoaXMuaXNPbkluc2VydEVudGVyRW5hYmxlZCgpKSB7XG5cdFx0XHQvLyBpZiBvbkluc2VydEVudGVyIGlzIGVuYWJsZWQsIHdlIG5lZWQgdG8gZ2V0IGN1cnJlbnQgSU0gZmlyc3Rcblx0XHRcdHRoaXMuaW1Ub1Jlc3RvcmUgPSB0aGlzLnJ1bkNvbW1hbmRTeW5jKHRoaXMuc2V0dGluZy5jbWRHZXRDdXJyZW50SU0pO1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhgaW0gY2FjaGVkOiAke3RoaXMuaW1Ub1Jlc3RvcmV9YCk7XG5cdFx0fVxuXG5cdFx0Ly8gdGhlbiBydW4gb25JbnNlcnRMZWF2ZSBjb21tYW5kXG5cdFx0dGhpcy5ydW5Db21tYW5kU3luYyh0aGlzLnNldHRpbmcuY21kT25JbnNlcnRMZWF2ZSk7XG5cdFx0Y29uc29sZS5kZWJ1ZyhgaW0gc3dpdGNoZWQgYnkgJHt0aGlzLnNldHRpbmcuY21kT25JbnNlcnRMZWF2ZX1gKTtcblx0fVxuXG5cdHByaXZhdGUgcnVuQ29tbWFuZEFzeW5jKGNvbW1hbmQ6IHN0cmluZykge1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cdFx0XHRleGVjKGNvbW1hbmQsIChlcnJvcjogYW55LCBzdGRvdXQ6IGFueSwgc3RkZXJyOiBhbnkpID0+IHtcblx0XHRcdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRcdFx0dGhpcy5sb2dFcnJvcihcblx0XHRcdFx0XHRcdGBjb21tYW5kIGZhaWxlZCB3aXRoIGVycm9yOiAke2Vycm9yfSwgc3Rkb3V0OiAke3N0ZG91dH0sIHN0ZGVycjogJHtzdGRlcnJ9YCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJlc29sdmUoc3Rkb3V0KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBydW5Db21tYW5kU3luYyhjb21tYW5kOiBzdHJpbmcpOiBzdHJpbmcge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBzdGRvdXQgPSBleGVjU3luYyhjb21tYW5kLCB7IGVuY29kaW5nOiBcInV0Zi04XCIgfSk7XG5cdFx0XHRyZXR1cm4gc3Rkb3V0O1xuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHR0aGlzLmxvZ0Vycm9yKGBjb21tYW5kIGZhaWxlZCB3aXRoIGVycm9yOiAke2Vycm9yfWApO1xuXHRcdFx0cmV0dXJuIFwiXCI7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSBsb2dXYXJuKG1zZzogc3RyaW5nKSB7XG5cdFx0Y29uc29sZS53YXJuKG1zZyk7XG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuaXNTdGF0dXNCYXJFbmFibGVkKSB7XG5cdFx0XHR0aGlzLnN0YXR1c0Jhckl0ZW1FbC5zZXRUZXh0KGBXQVJOOiAke21zZ31gKTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGxvZ0Vycm9yKG1zZzogc3RyaW5nKSB7XG5cdFx0Y29uc29sZS5lcnJvcihtc2cpO1xuXHRcdGlmICh0aGlzLnNldHRpbmdzLmlzU3RhdHVzQmFyRW5hYmxlZCkge1xuXHRcdFx0dGhpcy5zdGF0dXNCYXJJdGVtRWwuc2V0VGV4dChgRVJST1I6ICR7bXNnfWApO1xuXHRcdH1cblx0fVxuXG5cdG9udW5sb2FkKCkge31cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuXG5jbGFzcyBWaW1JbVN3aXRjaGVyU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IFZpbUltU3dpdGNoZXI7XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogVmltSW1Td2l0Y2hlcikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcblxuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0RGVzYyhcblx0XHRcdFwiWW91IGNhbiBzZXQgdGhlIGZvbGxvd2luZyBmb3VyIHNldHRpbmdzIGZvciBlYWNoIHBsYXRmb3JtLiBcXFxuXHRcdFx0SWYgeW91IHdhbnQgdG8gdXNlIHRoZSBgSW5zZXJ0RW50ZXJgIGNvbW1hbmQsIFxcXG5cdFx0XHR5b3Ugc2hvdWxkIGFsc28gc2V0IHRoZSBgR2V0IEN1cnJlbnQgSU1gIGNvbW1hbmQgdG8gcmVzdG9yZSB0aGUgc3RhdGUgb2YgSU0uIFxcXG5cdFx0XHRJZiB5b3UgbGVhdmUgYmxhbmsgZWl0aGVyIG9mIHRoZW0sIGBJbnNlcnRFbnRlcmAgd2lsbCBiZSBza2lwcGVkLlwiLFxuXHRcdCk7XG5cblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgzXCIsIHsgdGV4dDogXCJtYWNPU1wiIH0pO1xuXHRcdHRoaXMuY3JlYXRlU2V0dGluZ0Zvck9TKFxuXHRcdFx0Y29udGFpbmVyRWwsXG5cdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tYWNvcyxcblx0XHRcdERFRkFVTFRfU0VUVElOR1MubWFjb3MsXG5cdFx0KTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBcIldpbmRvd3NcIiB9KTtcblx0XHR0aGlzLmNyZWF0ZVNldHRpbmdGb3JPUyhcblx0XHRcdGNvbnRhaW5lckVsLFxuXHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Mud2luZG93cyxcblx0XHRcdERFRkFVTFRfU0VUVElOR1Mud2luZG93cyxcblx0XHQpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJoM1wiLCB7IHRleHQ6IFwiTGludXhcIiB9KTtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbCkuc2V0RGVzYyhcblx0XHRcdFwiV0FSTjogVGhpcyBwbHVnaW4gZG9lc24ndCB3b3JrIHdpdGggT2JzaWRpYW4gaW5zdGFsbGVkIGZyb20gU25hcCBvciBGbGF0cGFrLiBcXFxuXHRcdFx0UGxlYXNlIHRyeSBgQXBwSW1hZ2VgIG9yIGBkZWJgIGZpbGUuIFxcXG5cdFx0XHRJZiB5b3Ugd2FudCB0byB1c2UgYGlidXNgIG9yIGBmY2l0eC1yZW1vdGVgLCBwbGVhc2UgcmVmZXJlIFJFQURNRSBvbiBHaXRIdWIgcmVwby5cIixcblx0XHQpO1xuXHRcdHRoaXMuY3JlYXRlU2V0dGluZ0Zvck9TKFxuXHRcdFx0Y29udGFpbmVyRWwsXG5cdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5saW51eCxcblx0XHRcdERFRkFVTFRfU0VUVElOR1MubGludXgsXG5cdFx0KTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDNcIiwgeyB0ZXh0OiBcIkNvbW1vblwiIH0pO1xuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJBc3luYyBzd2l0Y2hcIilcblx0XHRcdC5zZXREZXNjKFwiV2hldGhlciB0byBzd2l0Y2ggSU0gYXN5bmNocm9ub3VzbHkgb3Igbm90XCIpXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcblx0XHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmlzQXN5bmMpO1xuXHRcdFx0XHR0b2dnbGUub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgQXN5bmMgU3dpdGNoOiAke3ZhbHVlfWApO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmlzQXN5bmMgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJTdGF0dXMgYmFyIG1lc3NhZ2VcIilcblx0XHRcdC5zZXREZXNjKFwiV2hldGhlciB0byBzaG93IEVSUk9SL1dBUk4gbWVzc2FnZXMgb24gU3RhdHVzIEJhclwiKVxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XG5cdFx0XHRcdHRvZ2dsZS5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc1N0YXR1c0JhckVuYWJsZWQpO1xuXHRcdFx0XHR0b2dnbGUub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgU3RhdHVzIEJhciBNZXNzYWdlOiAke3ZhbHVlfWApO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmlzU3RhdHVzQmFyRW5hYmxlZCA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHR9XG5cblx0cHJpdmF0ZSBjcmVhdGVTZXR0aW5nRm9yT1MoXG5cdFx0Y29udGFpbmVyRWw6IEhUTUxFbGVtZW50LFxuXHRcdHNldHRpbmc6IFZpbUltQ29udHJvU2V0dGluZyxcblx0XHRkZWZhdWx0czogVmltSW1Db250cm9TZXR0aW5nLFxuXHQpIHtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiUEFUSCB0byBJTSBDb250cm9sbGVyXCIpXG5cdFx0XHQuc2V0RGVzYyhcIlBBVEggdG8gSU0gQ29udHJvbGxlciB1c2VkIG9ubHkgaW4gdGhlIGludGVybmFsIHByb2Nlc3NcIilcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxuXHRcdFx0XHR0ZXh0XG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKGRlZmF1bHRzLnBhdGhUb0lNQ29udHJvbClcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZy5wYXRoVG9JTUNvbnRyb2wpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgUEFUSCB0byBJTSBDb250cm9sbGVyOiAke3ZhbHVlfWApO1xuXHRcdFx0XHRcdFx0c2V0dGluZy5wYXRoVG9JTUNvbnRyb2wgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJHZXQgQ3VycmVudCBJTVwiKVxuXHRcdFx0LnNldERlc2MoXCJUaGUgY29tbWFuZCB0byBnZXQgY3VycmVudCBJTVwiKVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoZGVmYXVsdHMuY21kR2V0Q3VycmVudElNKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5nLmNtZEdldEN1cnJlbnRJTSlcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKFwiR2V0IEN1cnJlbnQgSU06IFwiICsgdmFsdWUpO1xuXHRcdFx0XHRcdFx0c2V0dGluZy5jbWRHZXRDdXJyZW50SU0gPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoXCJPbiBJbnNlcnRFbnRlclwiKVxuXHRcdFx0LnNldERlc2MoXG5cdFx0XHRcdFwiVGhlIGNvbW1hbmQgd2hlbiBlbnRlcmluZyBpbnNlcnQgbW9kZSAoVXNlIHt7aW19fSBhcyBwbGFjZWhvbGRlciBvZiBjYWNoZWQgSU0pXCIsXG5cdFx0XHQpXG5cdFx0XHQuYWRkVGV4dCgodGV4dCkgPT5cblx0XHRcdFx0dGV4dFxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihkZWZhdWx0cy5jbWRPbkluc2VydEVudGVyKVxuXHRcdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5nLmNtZE9uSW5zZXJ0RW50ZXIpXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhcIk9uIEluc2VydEVudGVyOiBcIiArIHZhbHVlKTtcblx0XHRcdFx0XHRcdHNldHRpbmcuY21kT25JbnNlcnRFbnRlciA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0fSksXG5cdFx0XHQpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIk9uIEluc2VydExlYXZlXCIpXG5cdFx0XHQuc2V0RGVzYyhcIlRoZSBjb21tYW5kIHdoZW4gbGVhdmluZyBpbnNlcnQgbW9kZVwiKVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoZGVmYXVsdHMuY21kT25JbnNlcnRMZWF2ZSlcblx0XHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZy5jbWRPbkluc2VydExlYXZlKVxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoXCJPbiBJbnNlcnRMZWF2ZTogXCIgKyB2YWx1ZSk7XG5cdFx0XHRcdFx0XHRzZXR0aW5nLmNtZE9uSW5zZXJ0TGVhdmUgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdH0pLFxuXHRcdFx0KTtcblx0fVxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHNCQUFxRTtBQUVyRSwyQkFBK0I7QUFnQi9CLElBQU0sbUJBQXlDO0FBQUEsRUFDOUMsT0FBTztBQUFBLElBQ04saUJBQWlCO0FBQUEsSUFDakIsa0JBQWtCO0FBQUEsSUFDbEIsa0JBQWtCO0FBQUEsSUFDbEIsaUJBQWlCO0FBQUEsRUFDbEI7QUFBQSxFQUNBLFNBQVM7QUFBQSxJQUNSLGlCQUFpQjtBQUFBLElBQ2pCLGtCQUFrQjtBQUFBLElBQ2xCLGtCQUFrQjtBQUFBLElBQ2xCLGlCQUFpQjtBQUFBLEVBQ2xCO0FBQUEsRUFDQSxPQUFPO0FBQUEsSUFDTixpQkFBaUI7QUFBQSxJQUNqQixrQkFBa0I7QUFBQSxJQUNsQixrQkFBa0I7QUFBQSxJQUNsQixpQkFBaUI7QUFBQSxFQUNsQjtBQUFBLEVBQ0EsU0FBUztBQUFBLEVBQ1Qsb0JBQW9CO0FBQ3JCO0FBRUEsSUFBcUIsZ0JBQXJCLGNBQTJDLHVCQUFPO0FBQUEsRUFBbEQ7QUFBQTtBQVNDO0FBQUEsU0FBUSxnQkFBZ0I7QUFDeEIsU0FBUSxjQUFjO0FBQ3RCLFNBQVEsY0FBYztBQUN0QixTQUFRLFlBQVksb0JBQUksUUFBMkI7QUF3RG5ELFNBQVEseUJBQXlCLFlBQVk7QUFDNUMsVUFBSSxDQUFDLEtBQUssZUFBZTtBQUN4QixjQUFNLEtBQUssV0FBVztBQUFBLE1BQ3ZCO0FBQ0EsV0FBSywyQkFBMkI7QUFBQSxJQUNqQztBQUFBO0FBQUEsRUEzREEsTUFBTSxTQUFTO0FBQ2QsVUFBTSxLQUFLLGFBQWE7QUFFeEIsU0FBSyxjQUFjLElBQUksd0JBQXdCLEtBQUssS0FBSyxJQUFJLENBQUM7QUFFOUQsU0FBSyxrQkFBa0IsS0FBSyxpQkFBaUI7QUFDN0MsU0FBSyxnQkFBZ0IsUUFBUSxFQUFFO0FBSS9CLFNBQUs7QUFBQSxNQUNKLEtBQUssSUFBSSxVQUFVLEdBQUcsc0JBQXNCLEtBQUssc0JBQXNCO0FBQUEsSUFDeEU7QUFFQSxTQUFLO0FBQUEsTUFDSixLQUFLLElBQUksVUFBVSxHQUFHLGFBQWEsS0FBSyxzQkFBc0I7QUFBQSxJQUMvRDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLE1BQWMsYUFBYTtBQUMxQixRQUFJLEtBQUssZUFBZTtBQUN2QixXQUFLLFFBQVEsNEJBQTRCO0FBQ3pDO0FBQUEsSUFDRDtBQUNBLFlBQVEsTUFBTSxpQ0FBaUMsUUFBUSxXQUFXO0FBRWxFLFlBQVEsUUFBUSxVQUFVO0FBQUEsTUFDekIsS0FBSztBQUNKLGFBQUssVUFBVSxLQUFLLFNBQVM7QUFDN0I7QUFBQSxNQUNELEtBQUs7QUFDSixhQUFLLFVBQVUsS0FBSyxTQUFTO0FBQzdCO0FBQUEsTUFDRCxLQUFLO0FBQ0osYUFBSyxVQUFVLEtBQUssU0FBUztBQUM3QjtBQUFBLE1BQ0Q7QUFDQyxhQUFLLFNBQVMsc0JBQXNCO0FBQ3BDO0FBQUEsSUFDRjtBQUVBLFNBQUssb0NBQW9DO0FBQ3pDLFNBQUssZ0JBQWdCLFFBQVEsRUFBRTtBQUMvQixTQUFLLGNBQWM7QUFDbkIsU0FBSyxjQUFjO0FBQ25CLFNBQUssZ0JBQWdCO0FBQUEsRUFDdEI7QUFBQSxFQUVRLHNDQUFzQztBQUM3QyxVQUFNLFlBQVksUUFBUSxhQUFhLFVBQVUsTUFBTTtBQUN2RCxZQUFRLElBQUksT0FBTyxHQUFHLFFBQVEsSUFBSSxPQUFPLFlBQVksS0FBSyxRQUFRO0FBQ2xFLFlBQVEsTUFBTSxpQ0FBaUMsUUFBUSxJQUFJLE1BQU07QUFBQSxFQUNsRTtBQUFBLEVBU1EsNkJBQTZCO0FBQ3BDLFVBQU0sT0FBTyxLQUFLLHNCQUFzQjtBQUN4QyxRQUFJLENBQUMsTUFBTTtBQUNWO0FBQUEsSUFDRDtBQUNBLFVBQU0sU0FBUyxLQUFLLG9CQUFvQixJQUFJO0FBQzVDLFFBQUksQ0FBQyxRQUFRO0FBQ1o7QUFBQSxJQUNEO0FBQ0EsUUFBSSxLQUFLLFVBQVUsSUFBSSxNQUFNLEdBQUc7QUFDL0I7QUFBQSxJQUNEO0FBR0EsV0FBTyxHQUFHLG1CQUFtQixDQUFDLFlBQWlCO0FBQzlDLFVBQUksU0FBUztBQUNaLGFBQUssaUJBQWlCLE9BQU87QUFBQSxNQUM5QjtBQUFBLElBQ0QsQ0FBQztBQUNELFNBQUssVUFBVSxJQUFJLE1BQU07QUFDekIsWUFBUSxNQUFNLGtDQUFrQztBQUFBLEVBQ2pEO0FBQUEsRUFFUSx3QkFBNkM7QUFDcEQsV0FBTyxLQUFLLElBQUksVUFBVSxvQkFBb0IsNEJBQVk7QUFBQSxFQUMzRDtBQUFBLEVBRVEsb0JBQW9CLE1BQXVDO0FBL0lwRTtBQWdKRSxZQUFRLHNCQUFhLGVBQWIsbUJBQXlCLGFBQXpCLG1CQUFtQyxPQUFuQyxtQkFBdUM7QUFBQSxFQUNoRDtBQUFBLEVBRVEsaUJBQWlCLFNBQWM7QUFDdEMsWUFBUSxRQUFRLE1BQU07QUFBQSxNQUNyQixLQUFLO0FBQ0osYUFBSyxjQUFjO0FBQ25CO0FBQUEsTUFDRDtBQUNDLFlBQUksS0FBSyxlQUFlLFVBQVU7QUFDakM7QUFBQSxRQUNEO0FBQ0EsWUFBSSxLQUFLLFNBQVMsU0FBUztBQUMxQixlQUFLLG1CQUFtQjtBQUFBLFFBQ3pCLE9BQU87QUFDTixlQUFLLGtCQUFrQjtBQUFBLFFBQ3hCO0FBQ0E7QUFBQSxJQUNGO0FBQ0EsU0FBSyxjQUFjLFFBQVE7QUFBQSxFQUM1QjtBQUFBLEVBRVEseUJBQXlCO0FBQ2hDLFdBQU8sQ0FBQyxDQUFDLEtBQUssUUFBUSxvQkFBb0IsQ0FBQyxDQUFDLEtBQUssUUFBUTtBQUFBLEVBQzFEO0FBQUEsRUFFUSx5QkFBeUI7QUFDaEMsV0FBTyxDQUFDLENBQUMsS0FBSyxRQUFRO0FBQUEsRUFDdkI7QUFBQSxFQUVRLGdCQUFnQjtBQUN2QixRQUFJLENBQUMsS0FBSyx1QkFBdUIsR0FBRztBQUNuQyxjQUFRLE1BQU0saUNBQWlDO0FBQy9DO0FBQUEsSUFDRDtBQUVBLFVBQU0sZ0JBQWdCLEtBQUssUUFBUSxpQkFBaUI7QUFBQSxNQUNuRDtBQUFBLE1BQ0EsS0FBSztBQUFBLElBQ047QUFFQSxRQUFJLEtBQUssU0FBUyxTQUFTO0FBQzFCLFdBQUssZ0JBQWdCLGFBQWEsRUFBRSxLQUFLLENBQUMsV0FBZ0I7QUFDekQsZ0JBQVEsTUFBTSxrQkFBa0IsYUFBYSxlQUFlO0FBQUEsTUFDN0QsQ0FBQztBQUFBLElBQ0YsT0FBTztBQUNOLFlBQU0sU0FBUyxLQUFLLGVBQWUsYUFBYTtBQUNoRCxjQUFRLE1BQU0sa0JBQWtCLGFBQWEsZUFBZTtBQUFBLElBQzdEO0FBQUEsRUFDRDtBQUFBLEVBRVEscUJBQXFCO0FBQzVCLFFBQUksQ0FBQyxLQUFLLHVCQUF1QixHQUFHO0FBQ25DLGNBQVEsTUFBTSxpQ0FBaUM7QUFDL0M7QUFBQSxJQUNEO0FBQ0EsWUFBUSxNQUFNLHdCQUF3QjtBQUV0QyxRQUFJLEtBQUssdUJBQXVCLEdBQUc7QUFFbEMsV0FBSyxnQkFBZ0IsS0FBSyxRQUFRLGVBQWUsRUFBRSxLQUFLLENBQUMsV0FBZ0I7QUFDeEUsYUFBSyxjQUFjO0FBQ25CLGdCQUFRLE1BQU0sY0FBYyxLQUFLLGFBQWE7QUFHOUMsYUFBSyxnQkFBZ0IsS0FBSyxRQUFRLGdCQUFnQixFQUFFO0FBQUEsVUFDbkQsQ0FBQyxZQUFpQjtBQUNqQixvQkFBUSxNQUFNLGtCQUFrQixLQUFLLFFBQVEsa0JBQWtCO0FBQUEsVUFDaEU7QUFBQSxRQUNEO0FBQUEsTUFDRCxDQUFDO0FBQUEsSUFDRixPQUFPO0FBQ04sV0FBSyxnQkFBZ0IsS0FBSyxRQUFRLGdCQUFnQixFQUFFO0FBQUEsUUFDbkQsQ0FBQyxZQUFpQjtBQUNqQixrQkFBUSxNQUFNLGtCQUFrQixLQUFLLFFBQVEsa0JBQWtCO0FBQUEsUUFDaEU7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFBQSxFQUVRLG9CQUFvQjtBQUMzQixRQUFJLENBQUMsS0FBSyx1QkFBdUIsR0FBRztBQUNuQyxjQUFRLE1BQU0saUNBQWlDO0FBQy9DO0FBQUEsSUFDRDtBQUNBLFlBQVEsTUFBTSx1QkFBdUI7QUFFckMsUUFBSSxLQUFLLHVCQUF1QixHQUFHO0FBRWxDLFdBQUssY0FBYyxLQUFLLGVBQWUsS0FBSyxRQUFRLGVBQWU7QUFDbkUsY0FBUSxNQUFNLGNBQWMsS0FBSyxhQUFhO0FBQUEsSUFDL0M7QUFHQSxTQUFLLGVBQWUsS0FBSyxRQUFRLGdCQUFnQjtBQUNqRCxZQUFRLE1BQU0sa0JBQWtCLEtBQUssUUFBUSxrQkFBa0I7QUFBQSxFQUNoRTtBQUFBLEVBRVEsZ0JBQWdCLFNBQWlCO0FBQ3hDLFdBQU8sSUFBSSxRQUFRLENBQUMsU0FBUyxXQUFXO0FBQ3ZDLHFDQUFLLFNBQVMsQ0FBQyxPQUFZLFFBQWEsV0FBZ0I7QUFDdkQsWUFBSSxPQUFPO0FBQ1YsZUFBSztBQUFBLFlBQ0osOEJBQThCLGtCQUFrQixtQkFBbUI7QUFBQSxVQUNwRTtBQUNBLGlCQUFPLEtBQUs7QUFDWjtBQUFBLFFBQ0Q7QUFDQSxnQkFBUSxNQUFNO0FBQUEsTUFDZixDQUFDO0FBQUEsSUFDRixDQUFDO0FBQUEsRUFDRjtBQUFBLEVBRVEsZUFBZSxTQUF5QjtBQUMvQyxRQUFJO0FBQ0gsWUFBTSxhQUFTLCtCQUFTLFNBQVMsRUFBRSxVQUFVLFFBQVEsQ0FBQztBQUN0RCxhQUFPO0FBQUEsSUFDUixTQUFTLE9BQVA7QUFDRCxXQUFLLFNBQVMsOEJBQThCLE9BQU87QUFDbkQsYUFBTztBQUFBLElBQ1I7QUFBQSxFQUNEO0FBQUEsRUFFUSxRQUFRLEtBQWE7QUFDNUIsWUFBUSxLQUFLLEdBQUc7QUFDaEIsUUFBSSxLQUFLLFNBQVMsb0JBQW9CO0FBQ3JDLFdBQUssZ0JBQWdCLFFBQVEsU0FBUyxLQUFLO0FBQUEsSUFDNUM7QUFBQSxFQUNEO0FBQUEsRUFFUSxTQUFTLEtBQWE7QUFDN0IsWUFBUSxNQUFNLEdBQUc7QUFDakIsUUFBSSxLQUFLLFNBQVMsb0JBQW9CO0FBQ3JDLFdBQUssZ0JBQWdCLFFBQVEsVUFBVSxLQUFLO0FBQUEsSUFDN0M7QUFBQSxFQUNEO0FBQUEsRUFFQSxXQUFXO0FBQUEsRUFBQztBQUFBLEVBRVosTUFBTSxlQUFlO0FBQ3BCLFNBQUssV0FBVyxPQUFPLE9BQU8sQ0FBQyxHQUFHLGtCQUFrQixNQUFNLEtBQUssU0FBUyxDQUFDO0FBQUEsRUFDMUU7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixVQUFNLEtBQUssU0FBUyxLQUFLLFFBQVE7QUFBQSxFQUNsQztBQUNEO0FBRUEsSUFBTSwwQkFBTixjQUFzQyxpQ0FBaUI7QUFBQSxFQUd0RCxZQUFZLEtBQVUsUUFBdUI7QUFDNUMsVUFBTSxLQUFLLE1BQU07QUFDakIsU0FBSyxTQUFTO0FBQUEsRUFDZjtBQUFBLEVBRUEsVUFBZ0I7QUFDZixVQUFNLEVBQUUsWUFBWSxJQUFJO0FBRXhCLGdCQUFZLE1BQU07QUFFbEIsUUFBSSx3QkFBUSxXQUFXLEVBQUU7QUFBQSxNQUN4QjtBQUFBLElBSUQ7QUFFQSxnQkFBWSxTQUFTLE1BQU0sRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUM1QyxTQUFLO0FBQUEsTUFDSjtBQUFBLE1BQ0EsS0FBSyxPQUFPLFNBQVM7QUFBQSxNQUNyQixpQkFBaUI7QUFBQSxJQUNsQjtBQUVBLGdCQUFZLFNBQVMsTUFBTSxFQUFFLE1BQU0sVUFBVSxDQUFDO0FBQzlDLFNBQUs7QUFBQSxNQUNKO0FBQUEsTUFDQSxLQUFLLE9BQU8sU0FBUztBQUFBLE1BQ3JCLGlCQUFpQjtBQUFBLElBQ2xCO0FBRUEsZ0JBQVksU0FBUyxNQUFNLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFDNUMsUUFBSSx3QkFBUSxXQUFXLEVBQUU7QUFBQSxNQUN4QjtBQUFBLElBR0Q7QUFDQSxTQUFLO0FBQUEsTUFDSjtBQUFBLE1BQ0EsS0FBSyxPQUFPLFNBQVM7QUFBQSxNQUNyQixpQkFBaUI7QUFBQSxJQUNsQjtBQUVBLGdCQUFZLFNBQVMsTUFBTSxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBQzdDLFFBQUksd0JBQVEsV0FBVyxFQUNyQixRQUFRLGNBQWMsRUFDdEIsUUFBUSw0Q0FBNEMsRUFDcEQsVUFBVSxDQUFDLFdBQVc7QUFDdEIsYUFBTyxTQUFTLEtBQUssT0FBTyxTQUFTLE9BQU87QUFDNUMsYUFBTyxTQUFTLE9BQU8sVUFBVTtBQUNoQyxnQkFBUSxNQUFNLGlCQUFpQixPQUFPO0FBQ3RDLGFBQUssT0FBTyxTQUFTLFVBQVU7QUFDL0IsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNGLENBQUM7QUFFRixRQUFJLHdCQUFRLFdBQVcsRUFDckIsUUFBUSxvQkFBb0IsRUFDNUIsUUFBUSxtREFBbUQsRUFDM0QsVUFBVSxDQUFDLFdBQVc7QUFDdEIsYUFBTyxTQUFTLEtBQUssT0FBTyxTQUFTLGtCQUFrQjtBQUN2RCxhQUFPLFNBQVMsT0FBTyxVQUFVO0FBQ2hDLGdCQUFRLE1BQU0sdUJBQXVCLE9BQU87QUFDNUMsYUFBSyxPQUFPLFNBQVMscUJBQXFCO0FBQzFDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDRixDQUFDO0FBQUEsRUFDSDtBQUFBLEVBRVEsbUJBQ1AsYUFDQSxTQUNBLFVBQ0M7QUFDRCxRQUFJLHdCQUFRLFdBQVcsRUFDckIsUUFBUSx1QkFBdUIsRUFDL0IsUUFBUSx5REFBeUQsRUFDakU7QUFBQSxNQUFRLENBQUMsU0FDVCxLQUNFLGVBQWUsU0FBUyxlQUFlLEVBQ3ZDLFNBQVMsUUFBUSxlQUFlLEVBQ2hDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLGdCQUFRLE1BQU0sMEJBQTBCLE9BQU87QUFDL0MsZ0JBQVEsa0JBQWtCO0FBQzFCLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDSDtBQUVELFFBQUksd0JBQVEsV0FBVyxFQUNyQixRQUFRLGdCQUFnQixFQUN4QixRQUFRLCtCQUErQixFQUN2QztBQUFBLE1BQVEsQ0FBQyxTQUNULEtBQ0UsZUFBZSxTQUFTLGVBQWUsRUFDdkMsU0FBUyxRQUFRLGVBQWUsRUFDaEMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsZ0JBQVEsTUFBTSxxQkFBcUIsS0FBSztBQUN4QyxnQkFBUSxrQkFBa0I7QUFDMUIsY0FBTSxLQUFLLE9BQU8sYUFBYTtBQUFBLE1BQ2hDLENBQUM7QUFBQSxJQUNIO0FBRUQsUUFBSSx3QkFBUSxXQUFXLEVBQ3JCLFFBQVEsZ0JBQWdCLEVBQ3hCO0FBQUEsTUFDQTtBQUFBLElBQ0QsRUFDQztBQUFBLE1BQVEsQ0FBQyxTQUNULEtBQ0UsZUFBZSxTQUFTLGdCQUFnQixFQUN4QyxTQUFTLFFBQVEsZ0JBQWdCLEVBQ2pDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLGdCQUFRLE1BQU0scUJBQXFCLEtBQUs7QUFDeEMsZ0JBQVEsbUJBQW1CO0FBQzNCLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDSDtBQUVELFFBQUksd0JBQVEsV0FBVyxFQUNyQixRQUFRLGdCQUFnQixFQUN4QixRQUFRLHNDQUFzQyxFQUM5QztBQUFBLE1BQVEsQ0FBQyxTQUNULEtBQ0UsZUFBZSxTQUFTLGdCQUFnQixFQUN4QyxTQUFTLFFBQVEsZ0JBQWdCLEVBQ2pDLFNBQVMsT0FBTyxVQUFVO0FBQzFCLGdCQUFRLE1BQU0scUJBQXFCLEtBQUs7QUFDeEMsZ0JBQVEsbUJBQW1CO0FBQzNCLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxNQUNoQyxDQUFDO0FBQUEsSUFDSDtBQUFBLEVBQ0Y7QUFDRDsiLAogICJuYW1lcyI6IFtdCn0K
